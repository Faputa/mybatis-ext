```java
expr.set(join(term, optional(choice(
    join(keyword("+"), expr, action(state->{
        int a = state.getLocal(term).val();
        int b = state.getLocal(expr).val();
        state.setReturn(a + b);
    })),
    join(keyword("-"), expr, action(state->{
        int a = state.getLocal(term).val();
        int b = state.getLocal(expr).val();
        state.setReturn(a - b);
    }))
))));

term.set(join(factor, optional(choice(
    join(keyword("*"), term, action(state->{
        int a = state.getLocal(factor).val();
        int b = state.getLocal(term).val();
        state.setReturn(a * b);
    })),
    join(keyword("/"), term, action(state->{
        int a = state.getLocal(factor).val();
        int b = state.getLocal(term).val();
        state.setReturn(a / b);
    }))
))));

factor.set(choice(integer, join(keyword("("), expr, keyword(")"), action(state->{
    state.setReturn(state.getLocal(expr).val());
}))));

integer.set(assign("temp", join(choice(digit, join(digit, integer))), action(state->{
    String temp = state.getLocal("temp").text();
    state.setReturn(Integer.parse(temp));
})));


